<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">

<head>
    <th:block layout:fragment="script">
    <script th:inline="javascript">
        const listReq = () => {
            console.log("상세목록조회")
            const page = [[${page}]]
            location.href="/board/paging?page="+page;
        }
        const updateReq = () => {
            console.log("수정 요청");
            const id = [[${board.id}]];
            location.href = "/board/update/" + id;
        }
        const deleteReq = () =>{
            console.log("삭제요청");
            const id = [[${board.id}]];
            location.href="/board/delete/"+id;
        }
    </script>
    </th:block>
    <meta charset="UTF-8">
    <title>list</title>
    <script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
</head>
<body>
<div layout:fragment="content">
    <div class="center-container">
        <h3 class="dL">다이어리 목록</h3>
    <table class="table">
    <thead class="thead-light">
    <tr>
        <th scope="col">정보</th>
        <th scope="col">내용</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <th scope="row">id</th>
        <td th:text="${board.id}"></td>
    </tr>
    <tr>
        <th scope="row">title</th>
        <td th:text="${board.boardTitle}"></td>
    </tr>
    <tr>
        <th scope="row">writer</th>
        <td th:text="${board.boardWriter}"></td>
    </tr>
    <tr>
        <th scope="row">date</th>
        <td th:text="${board.boardCreatedTime}"></td>
    </tr>
    <tr>
        <th scope="row">hits</th>
        <td th:text="${board.boardHits}"></td>
    </tr>
    <tr>
        <th scope="row">contents</th>
        <td th:text="${board.boardContents}"></td>
    </tr>
<!--    파일이있으면 이미지를 보여주고 아니면 안보이게 -->
    <tr th:if="${board.fileAttached == 1}">
        <th>image</th>
        <td th:each="fileName:${board.storedFileName}">
            <img th:src="@{|/upload/${fileName}|}" alt=""></td>
<!--        <td><img th:src="@{|/upload/${board.storedFileName}|}" alt=""></td>-->
    </tr>
    </tbody>
    </table>

        <button class="btn btn-primary btn-sm" onclick="listReq()">일기목록</button>
<!--    <a href="/board" class="btn btn-primary btn-sm">글목록</a>-->
        <button class="btn btn-primary btn-sm" onclick="updateReq()">수정</button>
        <button class="btn btn-danger btn-sm" onclick="deleteReq()">삭제</button>
<!--        <a href="#" onclick="deleteReq()" class="btn btn-danger btn-sm">삭제</a>-->

        <!--    <button onclick="updateReq()">수정</button>-->
<!--    <button onclick="deleteReq()">삭제</button>-->
</div>
</div>
</body>


</html>